0. API token generation
   - in DO webpage
   - doctl auth init --context SIL-tor-K8s
   - test: doctl account get
   - cf. https://docs.digitalocean.com/reference/doctl/how-to/install/

1. doctl kubernetes cluster create sil-k8s-kustomize --count=2 --region=sgp1

2. Follow instruction from Kubernetes on left menu

3. https://github.com/humble92/jitsi-kubernetes
   cf. https://github.com/jitsi-contrib/jitsi-kubernetes

4. helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
   helm repo update ingress-nginx
   helm upgrade --install ingress-nginx ingress-nginx --repo https://kubernetes.github.io/ingress-nginx --namespace ingress-nginx --create-namespace

5. [K8s name] > resources > Load balancers
   Get the ip > get the domain
   DNS A record 편집:
   or [ip].nip.io

6. Cert manager (https://cert-manager.io/docs/releases/)
   kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.13.3/cert-manager.yaml
   kubectl get pods --namespace cert-manager
   kubectl create -f staging_issuer.yaml (Optional)
   kubectl create -f prod_issuer.yaml

7. kubectl create namespace jitsi
   kubectl create secret generic jitsi-config -n jitsi --from-literal=JICOFO_COMPONENT_SECRET=dakfjadskf31284731207dfkjlkadsjla --from-literal=JICOFO_AUTH_PASSWORD=dakfjadskf31284731207dfkjlkadsjla --from-literal=JVB_AUTH_PASSWORD=dakfjadskf31284731207dfkjlkadsjla

   (Overview kustomization yaml files)

   kubectl apply -k .

--------
8. Undeploy
   $ kubectl delete -k  ./my-jitsi
   $ kubectl delete namespace jitsi


---
[kustomization.yaml]

namespace: jitsi
bases:
- github.com/jitsi-contrib/jitsi-kubernetes/doc/kustomize

resources:
- 041-ingress.yaml

patchesStrategicMerge:
- 030-deployment.yaml